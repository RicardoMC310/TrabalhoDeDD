import"../chunks/DsnmJJEf.js";import"../chunks/DNCLPOgc.js";import{aA as y,v as w,aB as S,h as C,k as s,aC as k,$ as D,y as c,a0 as E,a2 as f,a3 as v,a4 as d,aD as j,aE as V,a5 as m,K as _}from"../chunks/CQHtbfwH.js";import{l as O,e as T}from"../chunks/BDJVngIp.js";import{r as z}from"../chunks/CmB_Gcsj.js";function p(e,a,o=a){var b=y(),l=new WeakSet;O(e,"input",r=>{var t=r?e.defaultValue:e.value;if(t=x(e)?h(t):t,o(t),s!==null&&l.add(s),b&&t!==(t=a())){var i=e.selectionStart,n=e.selectionEnd;e.value=t??"",n!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(n,e.value.length))}}),(C&&e.defaultValue!==e.value||w(a)==null&&e.value)&&(o(x(e)?h(e.value):e.value),s!==null&&l.add(s)),S(()=>{var r=a();if(e===document.activeElement){var t=k??s;if(l.has(t))return}x(e)&&r===h(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function x(e){var a=e.type;return a==="number"||a==="range"}function h(e){return e===""?null:+e}function A(e){return function(...a){var o=a[0];return o.preventDefault(),e?.apply(this,a)}}var B=D('<div class="flex items-center justify-center px-4" style="margin-top:10px;"><form class="bg-white shadow-xl rounded-xl p-8 w-full max-w-md flex flex-col gap-6"><h2 class="text-3xl font-bold text-center mb-4 text-gray-800">Deixe seu comentário</h2> <div class="flex flex-col gap-2"><label class="text-lg font-medium text-gray-700" for="author">Seu nome</label> <input id="author" type="text" placeholder="Seu nome" class="border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"/></div> <div class="flex flex-col gap-2"><label class="text-lg font-medium text-gray-700" for="content">Comentário</label> <textarea id="content" placeholder="Digite seu comentário..." rows="4" class="border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none"></textarea></div> <button type="submit" class="bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition text-lg">Enviar</button></form></div>');function P(e){let a=_(""),o=_("");async function b(){(await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:c(a),author:c(o)})})).ok?(m(a,""),m(o,""),alert("Comentário enviado! Veja em Comentários.")):alert("Falha ao enviar comentário")}var l=B(),r=v(l),t=f(v(r),2),i=f(v(t),2);z(i),d(t);var n=f(t,2),g=f(v(n),2);j(g),d(n),V(2),d(r),d(l),p(i,()=>c(o),u=>m(o,u)),p(g,()=>c(a),u=>m(a,u)),T("submit",r,A(b)),E(e,l)}export{P as component};
