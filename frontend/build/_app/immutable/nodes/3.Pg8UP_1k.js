import"../chunks/DsnmJJEf.js";import"../chunks/DNCLPOgc.js";import{o as se,s as Y}from"../chunks/BFpxjW8q.js";import{s as B,h as H,C as le,i as W,d as ne,c as ie,y as D,D as fe,r as oe,H as ue,e as K,f as X,n as O,F as ve,G as de,j as G,l as ce,k as pe,I as Z,J as he,K as z,M as P,O as _e,m as $,p as xe,P as me,Q as k,R as j,S as ge,T as ye,V as be,W as we,X as Ee,Y as Te,Z as Ce,_ as Ae,$ as V,a0 as F,a1 as Ie,a2 as L,a3 as M,a4 as I,a5 as Me,a6 as Q,a7 as De}from"../chunks/CQHtbfwH.js";import{i as U}from"../chunks/CHIAnSUU.js";import{i as Ne}from"../chunks/CAAX1x5B.js";function He(n,a){return a}function Re(n,a,e){for(var o=n.items,c=[],u=a.length,v=0;v<u;v++)we(a[v].e,c,!0);var x=u>0&&c.length===0&&e!==null;if(x){var y=e.parentNode;Ee(y),y.append(e),o.clear(),A(n,a[0].prev,a[u-1].next)}Te(c,()=>{for(var h=0;h<u;h++){var f=a[h];x||(o.delete(f.k),A(n,f.prev,f.next)),j(f.e,!x)}})}function Se(n,a,e,o,c,u=null){var v=n,x={flags:a,items:new Map,first:null};{var y=n;v=H?B(le(y)):y.appendChild(W())}H&&ne();var h=null,f=!1,_=new Map,t=fe(()=>{var l=e();return he(l)?l:l==null?[]:Z(l)}),p,r;function s(){Oe(r,p,x,_,v,c,a,o,e),u!==null&&(p.length===0?h?$(h):h=G(()=>u(v)):h!==null&&xe(h,()=>{h=null}))}ie(()=>{r??=Ce,p=D(t);var l=p.length;if(f&&l===0)return;f=l===0;let b=!1;if(H){var w=oe(v)===ue;w!==(l===0)&&(v=K(),B(v),X(!1),b=!0)}if(H){for(var i=null,m,d=0;d<l;d++){if(O.nodeType===ve&&O.data===de){v=O,b=!0,X(!1);break}var T=p[d],E=o(T,d);m=J(O,x,i,null,T,E,d,c,a,e),x.items.set(E,m),i=m}l>0&&B(K())}if(H)l===0&&u&&(h=G(()=>u(v)));else if(ce()){var C=new Set,g=pe;for(d=0;d<l;d+=1){T=p[d],E=o(T,d);var N=x.items.get(E)??_.get(E);N?ee(N,T,d):(m=J(null,x,null,null,T,E,d,c,a,e,!0),_.set(E,m)),C.add(E)}for(const[R,S]of x.items)C.has(R)||g.skipped_effects.add(S.e);g.add_callback(s)}else s();b&&X(!0),D(t)}),H&&(v=O)}function Oe(n,a,e,o,c,u,v,x,y){var h=a.length,f=e.items,_=e.first,t=_,p,r=null,s=[],l=[],b,w,i,m;for(m=0;m<h;m+=1){if(b=a[m],w=x(b,m),i=f.get(w),i===void 0){var d=o.get(w);if(d!==void 0){o.delete(w),f.set(w,d);var T=r?r.next:t;A(e,r,d),A(e,d,T),q(d,T,c),r=d}else{var E=t?t.e.nodes_start:c;r=J(E,e,r,r===null?e.first:r.next,b,w,m,u,v,y)}f.set(w,r),s=[],l=[],t=r.next;continue}if(ee(i,b,m),(i.e.f&k)!==0&&$(i.e),i!==t){if(p!==void 0&&p.has(i)){if(s.length<l.length){var C=l[0],g;r=C.prev;var N=s[0],R=s[s.length-1];for(g=0;g<s.length;g+=1)q(s[g],C,c);for(g=0;g<l.length;g+=1)p.delete(l[g]);A(e,N.prev,R.next),A(e,r,N),A(e,R,C),t=C,r=R,m-=1,s=[],l=[]}else p.delete(i),q(i,t,c),A(e,i.prev,i.next),A(e,i,r===null?e.first:r.next),A(e,r,i),r=i;continue}for(s=[],l=[];t!==null&&t.k!==w;)(t.e.f&k)===0&&(p??=new Set).add(t),l.push(t),t=t.next;if(t===null)continue;i=t}s.push(i),r=i,t=i.next}if(t!==null||p!==void 0){for(var S=p===void 0?[]:Z(p);t!==null;)(t.e.f&k)===0&&S.push(t),t=t.next;var ae=S.length;if(ae>0){var te=h===0?c:null;Re(e,S,te)}}n.first=e.first&&e.first.e,n.last=r&&r.e;for(var re of o.values())j(re.e);o.clear()}function ee(n,a,e,o){_e(n.v,a),n.i=e}function J(n,a,e,o,c,u,v,x,y,h,f){var _=(y&ge)!==0,t=(y&ye)===0,p=_?t?z(c,!1,!1):P(c):c,r=(y&me)===0?v:P(v),s={i:r,v:p,k:u,a:null,e:null,prev:e,next:o};try{if(n===null){var l=document.createDocumentFragment();l.append(n=W())}return s.e=G(()=>x(n,p,r,h),H),s.e.prev=e&&e.e,s.e.next=o&&o.e,e===null?f||(a.first=s):(e.next=s,e.e.next=s.e),o!==null&&(o.prev=s,o.e.prev=s.e),s}finally{}}function q(n,a,e){for(var o=n.next?n.next.e.nodes_start:e,c=a?a.e.nodes_start:e,u=n.e.nodes_start;u!==null&&u!==o;){var v=be(u);c.before(u),u=v}}function A(n,a,e){a===null?n.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}var Fe=V('<tr class="border-b align-top"><td class="px-4 py-2 text-sm text-gray-800"> </td><td class="px-4 py-2 max-w-[300px] break-words whitespace-pre-wrap text-sm text-gray-800"> </td><td class="px-4 py-2 text-sm text-gray-600"><!></td></tr>'),Le=V('<div class="overflow-x-auto"><table class="min-w-full table-auto border-collapse"><thead><tr class="bg-blue-100"><th class="px-4 py-2 text-left font-semibold text-gray-700">Autor</th><th class="px-4 py-2 text-left font-semibold text-gray-700">Comentário</th><th class="px-4 py-2 text-left font-semibold text-gray-700">Data</th></tr></thead><tbody></tbody></table></div>'),Ve=V('<p class="text-gray-500 text-center py-8 text-xl">Nenhum comentário encontrado.</p>'),Ye=V('<div class="flex items-center justify-center px-4 py-16 min-h-[60vh] bg-white"><div class="w-full max-w-2xl bg-white shadow-xl rounded-xl p-6"><h3 class="text-2xl font-bold mb-6 text-gray-800 text-center">Comentários</h3> <!></div></div>');function Ke(n,a){Ae(a,!1);let e=z([]);async function o(){const f=await fetch("/api/comments");Me(e,await f.json())}function c(f){const _=new Date(f);return _.setHours(_.getHours()-3),_.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}se(o),Ne();var u=Ye(),v=M(u),x=L(M(v),2);{var y=f=>{var _=Le(),t=M(_),p=L(M(t));Se(p,5,()=>D(e),He,(r,s)=>{var l=Fe(),b=M(l),w=M(b,!0);I(b);var i=L(b),m=M(i,!0);I(i);var d=L(i),T=M(d);{var E=C=>{var g=De();Q(N=>Y(g,N),[()=>c(D(s).created_at)]),F(C,g)};U(T,C=>{D(s).created_at&&C(E)})}I(d),I(l),Q(()=>{Y(w,D(s).author),Y(m,D(s).content)}),F(r,l)}),I(p),I(t),I(_),F(f,_)},h=f=>{var _=Ve();F(f,_)};U(x,f=>{D(e).length>0?f(y):f(h,!1)})}I(v),I(u),F(n,u),Ie()}export{Ke as component};
